[env:m5stack-core2]
platform = espressif32
board = m5stack-core2
framework = arduino
monitor_speed = 115200
upload_speed = 1500000
board_build.partitions = default_16MB.csv
board_build.f_flash = 80000000L
board_build.flash_mode = dio

build_flags =
    -DWIRE_SDA=21
    -DWIRE_SCL=22
    -DI2C_BAUD=100000
    -DACTA_I2C_ADDR=0x35
    -DACTA_SLOT_PRIVATE_KEY=0
    ; Fix ESP32 PSRAM cache issue
    -mfix-esp32-psram-cache-issue

lib_deps =
    m5stack/M5Unified@^0.2.2
    m5stack/M5GFX@^0.2.5
    bblanchon/ArduinoJson@^7
    ; Critical: use HarringayMakerSpace fork with begin(address) support
    https://github.com/HarringayMakerSpace/ArduinoECCX08.git#9864c4cfe5d3dc0d97aa0638056421fc5878a35a
    arduino-libraries/ArduinoBearSSL@^1.7.2
    arduino-libraries/ArduinoMqttClient@^0.1.5
